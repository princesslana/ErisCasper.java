<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>MessageEmbed.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">ErisCasper.java</a> &gt; <a href="index.source.html" class="el_package">net.dv8tion.jda.core.entities</a> &gt; <span class="el_source">MessageEmbed.java</span></div><h1>MessageEmbed.java</h1><pre class="source lang-java linenums">/*
 *     Copyright 2015-2018 Austin Keener &amp; Michael Ritter &amp; Florian Spie√ü
 *     Copyright 2018-2018 &quot;Princess&quot; Lana Samson
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package net.dv8tion.jda.core.entities;

import java.awt.Color;
import java.time.OffsetDateTime;
import java.time.format.DateTimeFormatter;
import java.util.Collections;
import java.util.List;
import java.util.Objects;
import net.dv8tion.jda.core.EmbedBuilder;
import net.dv8tion.jda.core.utils.Checks;
import net.dv8tion.jda.core.utils.Helpers;
import org.json.JSONArray;
import org.json.JSONObject;

/**
 * Represents an embed displayed by Discord. &lt;br&gt;
 * A visual representation of an Embed can be found at: &lt;a href=&quot;http://imgur.com/a/yOb5n&quot;
 * target=&quot;_blank&quot;&gt;http://imgur.com/a/yOb5n&lt;/a&gt; &lt;br&gt;
 * This class has many possibilities for null values, so be careful!
 */
public class MessageEmbed {
  /**
   * The maximum length an embed title can have
   *
   * @see net.dv8tion.jda.core.EmbedBuilder#setTitle(String) EmbedBuilder.setTitle(title)
   * @see net.dv8tion.jda.core.EmbedBuilder#addField(String, String, boolean)
   *     EmbedBuilder.addField(title, value, inline)
   */
  public static final int TITLE_MAX_LENGTH = 256;

  /**
   * The maximum length an embed field value can have
   *
   * @see net.dv8tion.jda.core.EmbedBuilder#addField(String, String, boolean)
   *     EmbedBuilder.addField(title, value, inline)
   */
  public static final int VALUE_MAX_LENGTH = 1024;

  /**
   * The maximum length the description and footer of an embed can have
   *
   * @see net.dv8tion.jda.core.EmbedBuilder#setFooter(String, String) EmbedBuilder.setFooter(text,
   *     iconUrl)
   * @see net.dv8tion.jda.core.EmbedBuilder#setDescription(CharSequence)
   *     EmbedBuilder.setDescription(text)
   */
  public static final int TEXT_MAX_LENGTH = 2048;

  /**
   * The maximum length any URL can have inside an embed
   *
   * @see net.dv8tion.jda.core.EmbedBuilder#setTitle(String, String) EmbedBuilder.setTitle(text,
   *     url)
   * @see net.dv8tion.jda.core.EmbedBuilder#setAuthor(String, String, String)
   *     EmbedBuilder.setAuthor(text, url, iconUrl)
   * @see net.dv8tion.jda.core.EmbedBuilder#setFooter(String, String) EmbedBuilder.setFooter(text,
   *     url)
   */
  public static final int URL_MAX_LENGTH = 2000;

  /**
   * The maximum amount of total visible characters an embed can have &lt;br&gt;
   * This limit depends on the current {@link net.dv8tion.jda.core.AccountType AccountType} and
   * applies to BOT
   *
   * @see net.dv8tion.jda.core.EmbedBuilder#setDescription(CharSequence)
   * @see net.dv8tion.jda.core.EmbedBuilder#setTitle(String)
   * @see net.dv8tion.jda.core.EmbedBuilder#setFooter(String, String)
   * @see net.dv8tion.jda.core.EmbedBuilder#addField(String, String, boolean)
   */
  public static final int EMBED_MAX_LENGTH_BOT = 6000;

  /**
   * The maximum amount of total visible characters an embed can have &lt;br&gt;
   * This limit depends on the current {@link net.dv8tion.jda.core.AccountType AccountType} and
   * applies to CLIENT
   *
   * @see net.dv8tion.jda.core.EmbedBuilder#setDescription(CharSequence)
   * @see net.dv8tion.jda.core.EmbedBuilder#setTitle(String)
   * @see net.dv8tion.jda.core.EmbedBuilder#setFooter(String, String)
   * @see net.dv8tion.jda.core.EmbedBuilder#addField(String, String, boolean)
   */
  public static final int EMBED_MAX_LENGTH_CLIENT = 2000;

<span class="nc" id="L101">  protected final Object mutex = new Object();</span>

  protected final String url;
  protected final String title;
  protected final String description;
  protected final EmbedType type;
  protected final OffsetDateTime timestamp;
  protected final Color color;
  protected final Thumbnail thumbnail;
  protected final Provider siteProvider;
  protected final AuthorInfo author;
  protected final VideoInfo videoInfo;
  protected final Footer footer;
  protected final ImageInfo image;
  protected final List&lt;Field&gt; fields;

<span class="nc" id="L117">  protected volatile int length = -1;</span>
<span class="nc" id="L118">  protected volatile JSONObject json = null;</span>

  protected MessageEmbed(
      String url,
      String title,
      String description,
      EmbedType type,
      OffsetDateTime timestamp,
      Color color,
      Thumbnail thumbnail,
      Provider siteProvider,
      AuthorInfo author,
      VideoInfo videoInfo,
      Footer footer,
      ImageInfo image,
<span class="nc" id="L133">      List&lt;Field&gt; fields) {</span>
<span class="nc" id="L134">    this.url = url;</span>
<span class="nc" id="L135">    this.title = title;</span>
<span class="nc" id="L136">    this.description = description;</span>
<span class="nc" id="L137">    this.type = type;</span>
<span class="nc" id="L138">    this.timestamp = timestamp;</span>
<span class="nc" id="L139">    this.color = color;</span>
<span class="nc" id="L140">    this.thumbnail = thumbnail;</span>
<span class="nc" id="L141">    this.siteProvider = siteProvider;</span>
<span class="nc" id="L142">    this.author = author;</span>
<span class="nc" id="L143">    this.videoInfo = videoInfo;</span>
<span class="nc" id="L144">    this.footer = footer;</span>
<span class="nc" id="L145">    this.image = image;</span>
<span class="nc bnc" id="L146" title="All 2 branches missed.">    this.fields =</span>
<span class="nc bnc" id="L147" title="All 2 branches missed.">        fields != null &amp;&amp; !fields.isEmpty()</span>
<span class="nc" id="L148">            ? Collections.unmodifiableList(fields)</span>
<span class="nc" id="L149">            : Collections.emptyList();</span>
<span class="nc" id="L150">  }</span>

  /**
   * The that was originally placed into chat that spawned this embed.
   *
   * @return Never-null String containing the original message url.
   */
  public String getUrl() {
<span class="nc" id="L158">    return url;</span>
  }

  /**
   * The title of the embed. Typically this will be the html title of the webpage that is being
   * embedded.&lt;br&gt;
   * If no title could be found, like the case of {@link EmbedType EmbedType} = {@link
   * net.dv8tion.jda.core.entities.EmbedType#IMAGE IMAGE}, this method will return null.
   *
   * @return Possibly-null String containing the title of the embedded resource.
   */
  public String getTitle() {
<span class="nc" id="L170">    return title;</span>
  }

  /**
   * The description of the embedded resource. &lt;br&gt;
   * This is provided only if Discord could find a description for the embedded resource using the
   * provided url. &lt;br&gt;
   * Commonly, this is null. Be careful when using it.
   *
   * @return Possibly-null String containing a description of the embedded resource.
   */
  public String getDescription() {
<span class="nc" id="L182">    return description;</span>
  }

  /**
   * The {@link net.dv8tion.jda.core.entities.EmbedType EmbedType} of this embed.
   *
   * @return The {@link net.dv8tion.jda.core.entities.EmbedType EmbedType} of this embed.
   */
  public EmbedType getType() {
<span class="nc" id="L191">    return type;</span>
  }

  /**
   * The information about the {@link net.dv8tion.jda.core.entities.MessageEmbed.Thumbnail
   * Thumbnail} image to be displayed with the embed. &lt;br&gt;
   * If a {@link net.dv8tion.jda.core.entities.MessageEmbed.Thumbnail Thumbnail} was not part of
   * this embed, this returns null.
   *
   * @return Possibly-null {@link net.dv8tion.jda.core.entities.MessageEmbed.Thumbnail Thumbnail}
   *     instance containing general information on the displayable thumbnail.
   */
  public Thumbnail getThumbnail() {
<span class="nc" id="L204">    return thumbnail;</span>
  }

  /**
   * The information on site from which the embed was generated from. &lt;br&gt;
   * If Discord did not generate any deliverable information about the site, this returns null.
   *
   * @return Possibly-null {@link net.dv8tion.jda.core.entities.MessageEmbed.Provider Provider}
   *     containing site information.
   */
  public Provider getSiteProvider() {
<span class="nc" id="L215">    return siteProvider;</span>
  }

  /**
   * The information on the creator of the embedded content. &lt;br&gt;
   * This is typically used to represent the account on the providing site.
   *
   * @return Possibly-null {@link net.dv8tion.jda.core.entities.MessageEmbed.AuthorInfo AuthorInfo}
   *     containing author information.
   */
  public AuthorInfo getAuthor() {
<span class="nc" id="L226">    return author;</span>
  }

  /**
   * The information about the video which should be displayed as an embed. &lt;br&gt;
   * This is used when sites with HTML5 players are linked and embedded. Most commonly Youtube. &lt;br&gt;
   * If this {@link net.dv8tion.jda.core.entities.EmbedType EmbedType} != {@link
   * net.dv8tion.jda.core.entities.EmbedType#VIDEO VIDEO} this will always return null.
   *
   * @return Possibly-null {@link net.dv8tion.jda.core.entities.MessageEmbed.VideoInfo VideoInfo}
   *     containing the information about the video which should be embedded.
   */
  public VideoInfo getVideoInfo() {
<span class="nc" id="L239">    return videoInfo;</span>
  }

  /**
   * The footer (bottom) of the embedded content. &lt;br&gt;
   * This is typically used for timestamps or site icons.
   *
   * @return Possibly-null {@link net.dv8tion.jda.core.entities.MessageEmbed.Footer Footer}
   *     containing the embed footer content.
   */
  public Footer getFooter() {
<span class="nc" id="L250">    return footer;</span>
  }

  /**
   * The information about the image in the message embed
   *
   * @return Possibly-null {@link net.dv8tion.jda.core.entities.MessageEmbed.ImageInfo ImageInfo}
   *     containing image information.
   */
  public ImageInfo getImage() {
<span class="nc" id="L260">    return image;</span>
  }

  /**
   * The fields in a message embed. &lt;br&gt;
   * Message embeds can contain multiple fields, each with a name, value, and a boolean to determine
   * if it will fall in-line with other fields. If the embed contains no fields, an empty list will
   * be returned.
   *
   * @return Never-null (but possibly empty) List of {@link
   *     net.dv8tion.jda.core.entities.MessageEmbed.Field Field} objects containing field
   *     information.
   */
  public List&lt;Field&gt; getFields() {
<span class="nc" id="L274">    return fields;</span>
  }

  /**
   * The color of the stripe on the side of the embed. &lt;br&gt;
   * If the color is 0 (no color), this will return null.
   *
   * @return Possibly-null Color.
   */
  public Color getColor() {
<span class="nc" id="L284">    return color;</span>
  }

  /**
   * The timestamp of the embed.
   *
   * @return Possibly-null OffsetDateTime object representing the timestamp.
   */
  public OffsetDateTime getTimestamp() {
<span class="nc" id="L293">    return timestamp;</span>
  }

  /**
   * Whether this embed is empty.
   *
   * @return True, if this embed has no content
   */
  public boolean isEmpty() {
<span class="nc bnc" id="L302" title="All 6 branches missed.">    return getLength() == 0 &amp;&amp; getImage() == null &amp;&amp; getThumbnail() == null;</span>
  }

  /**
   * The total amount of characters that is displayed when this embed is displayed by the Discord
   * client.
   *
   * &lt;p&gt;An Embed can only have, at max, {@value #EMBED_MAX_LENGTH_BOT} displayable text characters
   * for {@link net.dv8tion.jda.core.AccountType#BOT AccountType.BOT} accounts or {@value
   * #EMBED_MAX_LENGTH_CLIENT} displayable text characters for {@link
   * net.dv8tion.jda.core.AccountType#CLIENT AccountType.CLIENT} accounts.
   *
   * &lt;p&gt;Both of these values are defined by {@link #EMBED_MAX_LENGTH_BOT EMBED_MAX_LENGTH_BOT} and
   * {@link #EMBED_MAX_LENGTH_CLIENT EMBED_MAX_LENGTH_CLIENT} respectively.
   *
   * @return A never-negative sum of all displayed text characters.
   */
  public int getLength() {
<span class="nc bnc" id="L320" title="All 2 branches missed.">    if (length &gt; -1) return length;</span>
<span class="nc" id="L321">    synchronized (mutex) {</span>
<span class="nc bnc" id="L322" title="All 2 branches missed.">      if (length &gt; -1) return length;</span>
<span class="nc" id="L323">      length = 0;</span>

<span class="nc bnc" id="L325" title="All 2 branches missed.">      if (title != null) length += title.length();</span>
<span class="nc bnc" id="L326" title="All 2 branches missed.">      if (description != null) length += description.length();</span>
<span class="nc bnc" id="L327" title="All 2 branches missed.">      if (author != null) length += author.getName().length();</span>
<span class="nc bnc" id="L328" title="All 2 branches missed.">      if (footer != null) length += footer.getText().length();</span>
<span class="nc bnc" id="L329" title="All 2 branches missed.">      if (fields != null) {</span>
<span class="nc bnc" id="L330" title="All 2 branches missed.">        for (Field f : fields) length += f.getName().length() + f.getValue().length();</span>
      }

<span class="nc" id="L333">      return length;</span>
    }
  }

  /**
   * Whether this MessageEmbed can be used in a message. &lt;br&gt;
   * This applies to {@link net.dv8tion.jda.core.AccountType#BOT Bot}- and {@link
   * net.dv8tion.jda.core.AccountType#CLIENT Client Accounts}
   *
   * &lt;p&gt;Total Character Limits
   *
   * &lt;ul&gt;
   *   &lt;li&gt;Bot: {@value #EMBED_MAX_LENGTH_BOT}
   *   &lt;li&gt;Client: {@value #EMBED_MAX_LENGTH_CLIENT}
   * &lt;/ul&gt;
   *
   * @param type The {@link net.dv8tion.jda.core.AccountType AccountType} to inspect
   * @throws java.lang.IllegalArgumentException If the provided AccountType is {@code null} or not
   *     supported by this operation
   * @return True, if this MessageEmbed can be used to send messages for this specified AccountType
   * @see #getLength()
   */
  public boolean isSendable() {
<span class="nc" id="L356">    Checks.notNull(type, &quot;AccountType&quot;);</span>
<span class="nc" id="L357">    final int length = getLength();</span>
<span class="nc bnc" id="L358" title="All 2 branches missed.">    if (isEmpty()) return false;</span>

<span class="nc bnc" id="L360" title="All 2 branches missed.">    return length &lt;= EMBED_MAX_LENGTH_BOT;</span>
  }

  @Override
  public boolean equals(Object obj) {
<span class="nc bnc" id="L365" title="All 2 branches missed.">    if (!(obj instanceof MessageEmbed)) return false;</span>
<span class="nc bnc" id="L366" title="All 2 branches missed.">    if (obj == this) return true;</span>
<span class="nc" id="L367">    MessageEmbed other = (MessageEmbed) obj;</span>
<span class="nc bnc" id="L368" title="All 2 branches missed.">    return Objects.equals(url, other.url)</span>
<span class="nc bnc" id="L369" title="All 2 branches missed.">        &amp;&amp; Objects.equals(title, other.title)</span>
<span class="nc bnc" id="L370" title="All 2 branches missed.">        &amp;&amp; Objects.equals(description, other.description)</span>
<span class="nc bnc" id="L371" title="All 2 branches missed.">        &amp;&amp; Objects.equals(type, other.type)</span>
<span class="nc bnc" id="L372" title="All 2 branches missed.">        &amp;&amp; Objects.equals(thumbnail, other.thumbnail)</span>
<span class="nc bnc" id="L373" title="All 2 branches missed.">        &amp;&amp; Objects.equals(siteProvider, other.siteProvider)</span>
<span class="nc bnc" id="L374" title="All 2 branches missed.">        &amp;&amp; Objects.equals(author, other.author)</span>
<span class="nc bnc" id="L375" title="All 2 branches missed.">        &amp;&amp; Objects.equals(videoInfo, other.videoInfo)</span>
<span class="nc bnc" id="L376" title="All 2 branches missed.">        &amp;&amp; Objects.equals(footer, other.footer)</span>
<span class="nc bnc" id="L377" title="All 2 branches missed.">        &amp;&amp; Objects.equals(image, other.image)</span>
<span class="nc bnc" id="L378" title="All 2 branches missed.">        &amp;&amp; Objects.equals(color, other.color)</span>
<span class="nc bnc" id="L379" title="All 2 branches missed.">        &amp;&amp; Objects.equals(timestamp, other.timestamp)</span>
<span class="nc bnc" id="L380" title="All 2 branches missed.">        &amp;&amp; Helpers.deepEquals(fields, other.fields);</span>
  }

  /**
   * Creates a new {@link org.json.JSONObject JSONObject} used for sending.
   *
   * @return JSONObject for this embed
   */
  public JSONObject toJSONObject() {
<span class="nc bnc" id="L389" title="All 2 branches missed.">    if (json != null) return json;</span>
<span class="nc" id="L390">    synchronized (mutex) {</span>
<span class="nc bnc" id="L391" title="All 2 branches missed.">      if (json != null) return json;</span>
<span class="nc" id="L392">      JSONObject obj = new JSONObject();</span>
<span class="nc bnc" id="L393" title="All 2 branches missed.">      if (url != null) obj.put(&quot;url&quot;, url);</span>
<span class="nc bnc" id="L394" title="All 2 branches missed.">      if (title != null) obj.put(&quot;title&quot;, title);</span>
<span class="nc bnc" id="L395" title="All 2 branches missed.">      if (description != null) obj.put(&quot;description&quot;, description);</span>
<span class="nc bnc" id="L396" title="All 2 branches missed.">      if (timestamp != null) obj.put(&quot;timestamp&quot;, timestamp.format(DateTimeFormatter.ISO_INSTANT));</span>
<span class="nc bnc" id="L397" title="All 2 branches missed.">      if (color != null) obj.put(&quot;color&quot;, color.getRGB() &amp; 0xFFFFFF);</span>
<span class="nc bnc" id="L398" title="All 2 branches missed.">      if (thumbnail != null) obj.put(&quot;thumbnail&quot;, new JSONObject().put(&quot;url&quot;, thumbnail.getUrl()));</span>
<span class="nc bnc" id="L399" title="All 2 branches missed.">      if (siteProvider != null) {</span>
<span class="nc" id="L400">        JSONObject siteProviderObj = new JSONObject();</span>
<span class="nc bnc" id="L401" title="All 2 branches missed.">        if (siteProvider.getName() != null) siteProviderObj.put(&quot;name&quot;, siteProvider.getName());</span>
<span class="nc bnc" id="L402" title="All 2 branches missed.">        if (siteProvider.getUrl() != null) siteProviderObj.put(&quot;url&quot;, siteProvider.getUrl());</span>
<span class="nc" id="L403">        obj.put(&quot;provider&quot;, siteProviderObj);</span>
      }
<span class="nc bnc" id="L405" title="All 2 branches missed.">      if (author != null) {</span>
<span class="nc" id="L406">        JSONObject authorObj = new JSONObject();</span>
<span class="nc bnc" id="L407" title="All 2 branches missed.">        if (author.getName() != null) authorObj.put(&quot;name&quot;, author.getName());</span>
<span class="nc bnc" id="L408" title="All 2 branches missed.">        if (author.getUrl() != null) authorObj.put(&quot;url&quot;, author.getUrl());</span>
<span class="nc bnc" id="L409" title="All 2 branches missed.">        if (author.getIconUrl() != null) authorObj.put(&quot;icon_url&quot;, author.getIconUrl());</span>
<span class="nc" id="L410">        obj.put(&quot;author&quot;, authorObj);</span>
      }
<span class="nc bnc" id="L412" title="All 2 branches missed.">      if (videoInfo != null) obj.put(&quot;video&quot;, new JSONObject().put(&quot;url&quot;, videoInfo.getUrl()));</span>
<span class="nc bnc" id="L413" title="All 2 branches missed.">      if (footer != null) {</span>
<span class="nc" id="L414">        JSONObject footerObj = new JSONObject();</span>
<span class="nc bnc" id="L415" title="All 2 branches missed.">        if (footer.getText() != null) footerObj.put(&quot;text&quot;, footer.getText());</span>
<span class="nc bnc" id="L416" title="All 2 branches missed.">        if (footer.getIconUrl() != null) footerObj.put(&quot;icon_url&quot;, footer.getIconUrl());</span>
<span class="nc" id="L417">        obj.put(&quot;footer&quot;, footerObj);</span>
      }
<span class="nc bnc" id="L419" title="All 2 branches missed.">      if (image != null) obj.put(&quot;image&quot;, new JSONObject().put(&quot;url&quot;, image.getUrl()));</span>
<span class="nc bnc" id="L420" title="All 2 branches missed.">      if (!fields.isEmpty()) {</span>
<span class="nc" id="L421">        JSONArray fieldsArray = new JSONArray();</span>
<span class="nc bnc" id="L422" title="All 2 branches missed.">        for (Field field : fields) {</span>
<span class="nc" id="L423">          fieldsArray.put(</span>
              new JSONObject()
<span class="nc" id="L425">                  .put(&quot;name&quot;, field.getName())</span>
<span class="nc" id="L426">                  .put(&quot;value&quot;, field.getValue())</span>
<span class="nc" id="L427">                  .put(&quot;inline&quot;, field.isInline()));</span>
<span class="nc" id="L428">        }</span>
<span class="nc" id="L429">        obj.put(&quot;fields&quot;, fieldsArray);</span>
      }
<span class="nc" id="L431">      return json = obj;</span>
    }
  }

  /**
   * Represents the information Discord provided about a thumbnail image that should be displayed
   * with an embed message.
   */
  public static class Thumbnail {
    protected final String url;
    protected final String proxyUrl;
    protected final int width;
    protected final int height;

<span class="nc" id="L445">    public Thumbnail(String url, String proxyUrl, int width, int height) {</span>
<span class="nc" id="L446">      this.url = url;</span>
<span class="nc" id="L447">      this.proxyUrl = proxyUrl;</span>
<span class="nc" id="L448">      this.width = width;</span>
<span class="nc" id="L449">      this.height = height;</span>
<span class="nc" id="L450">    }</span>

    /**
     * The web url of this thumbnail image.
     *
     * @return Never-null String containing the url of the displayed image.
     */
    public String getUrl() {
<span class="nc" id="L458">      return url;</span>
    }

    /**
     * The Discord proxied url of the thumbnail image. &lt;br&gt;
     * This url is used to access the image through Discord instead of directly to prevent ip
     * scraping.
     *
     * @return Never-null String containing the proxied url of this image.
     */
    public String getProxyUrl() {
<span class="nc" id="L469">      return proxyUrl;</span>
    }

    /**
     * The width of the thumbnail image.
     *
     * @return Never-negative, Never-zero int containing the width of the image.
     */
    public int getWidth() {
<span class="nc" id="L478">      return width;</span>
    }

    /**
     * The height of the thumbnail image.
     *
     * @return Never-negative, Never-zero int containing the height of the image.
     */
    public int getHeight() {
<span class="nc" id="L487">      return height;</span>
    }

    @Override
    public boolean equals(Object obj) {
<span class="nc bnc" id="L492" title="All 2 branches missed.">      if (!(obj instanceof Thumbnail)) return false;</span>
<span class="nc" id="L493">      Thumbnail thumbnail = (Thumbnail) obj;</span>
<span class="nc bnc" id="L494" title="All 2 branches missed.">      return thumbnail == this</span>
<span class="nc bnc" id="L495" title="All 2 branches missed.">          || (Objects.equals(thumbnail.url, url)</span>
<span class="nc bnc" id="L496" title="All 6 branches missed.">              &amp;&amp; Objects.equals(thumbnail.proxyUrl, proxyUrl)</span>
              &amp;&amp; thumbnail.width == width
              &amp;&amp; thumbnail.height == height);
    }
  }

  /**
   * Multipurpose class that represents a provider of content, whether directly through creation or
   * indirectly through hosting.
   */
  public static class Provider {
    protected final String name;
    protected final String url;

<span class="nc" id="L510">    public Provider(String name, String url) {</span>
<span class="nc" id="L511">      this.name = name;</span>
<span class="nc" id="L512">      this.url = url;</span>
<span class="nc" id="L513">    }</span>

    /**
     * The name of the provider. &lt;br&gt;
     * If this is an author, most likely the author's username. &lt;br&gt;
     * If this is a website, most likely the site's name.
     *
     * @return Never-null String containing the name of the provider.
     */
    public String getName() {
<span class="nc" id="L523">      return name;</span>
    }

    /**
     * The url of the provider.
     *
     * @return Possibly-null String containing the url of the provider.
     */
    public String getUrl() {
<span class="nc" id="L532">      return url;</span>
    }

    @Override
    public boolean equals(Object obj) {
<span class="nc bnc" id="L537" title="All 2 branches missed.">      if (!(obj instanceof Provider)) return false;</span>
<span class="nc" id="L538">      Provider provider = (Provider) obj;</span>
<span class="nc bnc" id="L539" title="All 2 branches missed.">      return provider == this</span>
<span class="nc bnc" id="L540" title="All 4 branches missed.">          || (Objects.equals(provider.name, name) &amp;&amp; Objects.equals(provider.url, url));</span>
    }
  }

  /**
   * Represents the information provided to embed a video. &lt;br&gt;
   * The videos represented are expected to be played using an HTML5 player from the site which the
   * url belongs to.
   */
  public static class VideoInfo {
    protected final String url;
    protected final int width;
    protected final int height;

<span class="nc" id="L554">    public VideoInfo(String url, int width, int height) {</span>
<span class="nc" id="L555">      this.url = url;</span>
<span class="nc" id="L556">      this.width = width;</span>
<span class="nc" id="L557">      this.height = height;</span>
<span class="nc" id="L558">    }</span>

    /**
     * The url of the video.
     *
     * @return Never-null String containing the video url.
     */
    public String getUrl() {
<span class="nc" id="L566">      return url;</span>
    }

    /**
     * The width of the video. &lt;br&gt;
     * This usually isn't the actual video width, but instead the starting embed window size.
     *
     * &lt;p&gt;Basically: Don't rely on this to represent the actual video's quality or size.
     *
     * @return Non-negative, Non-zero int containing the width of the embedded video.
     */
    public int getWidth() {
<span class="nc" id="L578">      return width;</span>
    }

    /**
     * The height of the video. &lt;br&gt;
     * This usually isn't the actual video height, but instead the starting embed window size.
     *
     * &lt;p&gt;Basically: Don't rely on this to represent the actual video's quality or size.
     *
     * @return Non-negative, Non-zero int containing the height of the embedded video.
     */
    public int getHeight() {
<span class="nc" id="L590">      return height;</span>
    }

    @Override
    public boolean equals(Object obj) {
<span class="nc bnc" id="L595" title="All 2 branches missed.">      if (!(obj instanceof VideoInfo)) return false;</span>
<span class="nc" id="L596">      VideoInfo video = (VideoInfo) obj;</span>
<span class="nc bnc" id="L597" title="All 2 branches missed.">      return video == this</span>
<span class="nc bnc" id="L598" title="All 6 branches missed.">          || (Objects.equals(video.url, url) &amp;&amp; video.width == width &amp;&amp; video.height == height);</span>
    }
  }

  /** Represents the information provided to embed an image. */
  public static class ImageInfo {
    protected final String url;
    protected final String proxyUrl;
    protected final int width;
    protected final int height;

<span class="nc" id="L609">    public ImageInfo(String url, String proxyUrl, int width, int height) {</span>
<span class="nc" id="L610">      this.url = url;</span>
<span class="nc" id="L611">      this.proxyUrl = proxyUrl;</span>
<span class="nc" id="L612">      this.width = width;</span>
<span class="nc" id="L613">      this.height = height;</span>
<span class="nc" id="L614">    }</span>

    /**
     * The url of the image.
     *
     * @return Never-null String containing the image url.
     */
    public String getUrl() {
<span class="nc" id="L622">      return url;</span>
    }

    /**
     * The url of the image, proxied by Discord &lt;br&gt;
     * This url is used to access the image through Discord instead of directly to prevent ip
     * scraping.
     *
     * @return Never-null String containing the proxied image url.
     */
    public String getProxyUrl() {
<span class="nc" id="L633">      return proxyUrl;</span>
    }

    /**
     * The width of the image.
     *
     * @return Non-negative, Non-zero int containing the width of the embedded image.
     */
    public int getWidth() {
<span class="nc" id="L642">      return width;</span>
    }

    /**
     * The height of the image.
     *
     * @return Non-negative, Non-zero int containing the height of the embedded image.
     */
    public int getHeight() {
<span class="nc" id="L651">      return height;</span>
    }

    @Override
    public boolean equals(Object obj) {
<span class="nc bnc" id="L656" title="All 2 branches missed.">      if (!(obj instanceof ImageInfo)) return false;</span>
<span class="nc" id="L657">      ImageInfo image = (ImageInfo) obj;</span>
<span class="nc bnc" id="L658" title="All 2 branches missed.">      return image == this</span>
<span class="nc bnc" id="L659" title="All 2 branches missed.">          || (Objects.equals(image.url, url)</span>
<span class="nc bnc" id="L660" title="All 6 branches missed.">              &amp;&amp; Objects.equals(image.proxyUrl, proxyUrl)</span>
              &amp;&amp; image.width == width
              &amp;&amp; image.height == height);
    }
  }

  /**
   * Class that represents the author of content, possibly including an icon that Discord proxies.
   */
  public static class AuthorInfo {
    protected final String name;
    protected final String url;
    protected final String iconUrl;
    protected final String proxyIconUrl;

<span class="nc" id="L675">    public AuthorInfo(String name, String url, String iconUrl, String proxyIconUrl) {</span>
<span class="nc" id="L676">      this.name = name;</span>
<span class="nc" id="L677">      this.url = url;</span>
<span class="nc" id="L678">      this.iconUrl = iconUrl;</span>
<span class="nc" id="L679">      this.proxyIconUrl = proxyIconUrl;</span>
<span class="nc" id="L680">    }</span>

    /**
     * The name of the Author. &lt;br&gt;
     * This is most likely the name of the account associated with the embed
     *
     * @return Possibly-null String containing the name of the author.
     */
    public String getName() {
<span class="nc" id="L689">      return name;</span>
    }

    /**
     * The url of the author.
     *
     * @return Possibly-null String containing the url of the author.
     */
    public String getUrl() {
<span class="nc" id="L698">      return url;</span>
    }

    /**
     * The url of the author's icon.
     *
     * @return Possibly-null String containing the author's icon url.
     */
    public String getIconUrl() {
<span class="nc" id="L707">      return iconUrl;</span>
    }

    /**
     * The url of the author's icon, proxied by Discord &lt;br&gt;
     * This url is used to access the image through Discord instead of directly to prevent ip
     * scraping.
     *
     * @return Possibly-null String containing the proxied icon url.
     */
    public String getProxyIconUrl() {
<span class="nc" id="L718">      return proxyIconUrl;</span>
    }

    @Override
    public boolean equals(Object obj) {
<span class="nc bnc" id="L723" title="All 2 branches missed.">      if (!(obj instanceof AuthorInfo)) return false;</span>
<span class="nc" id="L724">      AuthorInfo author = (AuthorInfo) obj;</span>
<span class="nc bnc" id="L725" title="All 2 branches missed.">      return author == this</span>
<span class="nc bnc" id="L726" title="All 2 branches missed.">          || (Objects.equals(author.name, name)</span>
<span class="nc bnc" id="L727" title="All 2 branches missed.">              &amp;&amp; Objects.equals(author.url, url)</span>
<span class="nc bnc" id="L728" title="All 2 branches missed.">              &amp;&amp; Objects.equals(author.iconUrl, iconUrl)</span>
<span class="nc bnc" id="L729" title="All 2 branches missed.">              &amp;&amp; Objects.equals(author.proxyIconUrl, proxyIconUrl));</span>
    }
  }

  /** Class that represents a footer at the bottom of an embed */
  public static class Footer {
    protected final String text;
    protected final String iconUrl;
    protected final String proxyIconUrl;

<span class="nc" id="L739">    public Footer(String text, String iconUrl, String proxyIconUrl) {</span>
<span class="nc" id="L740">      this.text = text;</span>
<span class="nc" id="L741">      this.iconUrl = iconUrl;</span>
<span class="nc" id="L742">      this.proxyIconUrl = proxyIconUrl;</span>
<span class="nc" id="L743">    }</span>

    /**
     * The text in the footer
     *
     * @return Possibly-null String containing the text in the footer.
     */
    public String getText() {
<span class="nc" id="L751">      return text;</span>
    }

    /**
     * The url of the footer's icon.
     *
     * @return Possibly-null String containing the footer's icon url.
     */
    public String getIconUrl() {
<span class="nc" id="L760">      return iconUrl;</span>
    }

    /**
     * The url of the footer's icon, proxied by Discord &lt;br&gt;
     * This url is used to access the image through Discord instead of directly to prevent ip
     * scraping.
     *
     * @return Possibly-null String containing the proxied icon url.
     */
    public String getProxyIconUrl() {
<span class="nc" id="L771">      return proxyIconUrl;</span>
    }

    @Override
    public boolean equals(Object obj) {
<span class="nc bnc" id="L776" title="All 2 branches missed.">      if (!(obj instanceof Footer)) return false;</span>
<span class="nc" id="L777">      Footer footer = (Footer) obj;</span>
<span class="nc bnc" id="L778" title="All 2 branches missed.">      return footer == this</span>
<span class="nc bnc" id="L779" title="All 2 branches missed.">          || (Objects.equals(footer.text, text)</span>
<span class="nc bnc" id="L780" title="All 2 branches missed.">              &amp;&amp; Objects.equals(footer.iconUrl, iconUrl)</span>
<span class="nc bnc" id="L781" title="All 2 branches missed.">              &amp;&amp; Objects.equals(footer.proxyIconUrl, proxyIconUrl));</span>
    }
  }

  /**
   * Represents a field in an embed. A single embed contains an array of embed fields, each with a
   * name and value, and a boolean determining if the field can display on the same line as previous
   * fields if there is enough space horizontally.
   *
   * @since 3.0
   * @author John A. Grosh
   */
  public static class Field {
    protected final String name;
    protected final String value;
    protected final boolean inline;

<span class="nc" id="L798">    protected Field(String name, String value, boolean inline, boolean checked) {</span>
<span class="nc bnc" id="L799" title="All 2 branches missed.">      if (checked) {</span>
<span class="nc bnc" id="L800" title="All 4 branches missed.">        if (name == null || value == null)</span>
<span class="nc" id="L801">          throw new IllegalArgumentException(&quot;Both Name and Value must be set!&quot;);</span>
<span class="nc bnc" id="L802" title="All 2 branches missed.">        else if (name.length() &gt; TITLE_MAX_LENGTH)</span>
<span class="nc" id="L803">          throw new IllegalArgumentException(</span>
              &quot;Name cannot be longer than &quot; + TITLE_MAX_LENGTH + &quot; characters.&quot;);
<span class="nc bnc" id="L805" title="All 2 branches missed.">        else if (value.length() &gt; VALUE_MAX_LENGTH)</span>
<span class="nc" id="L806">          throw new IllegalArgumentException(</span>
              &quot;Value cannot be longer than &quot; + VALUE_MAX_LENGTH + &quot; characters.&quot;);
<span class="nc bnc" id="L808" title="All 2 branches missed.">        if (name.isEmpty()) this.name = EmbedBuilder.ZERO_WIDTH_SPACE;</span>
<span class="nc" id="L809">        else this.name = name;</span>
<span class="nc bnc" id="L810" title="All 2 branches missed.">        if (value.isEmpty()) this.value = EmbedBuilder.ZERO_WIDTH_SPACE;</span>
<span class="nc" id="L811">        else this.value = value;</span>
<span class="nc" id="L812">        this.inline = inline;</span>
      } else {
<span class="nc" id="L814">        this.name = name;</span>
<span class="nc" id="L815">        this.value = value;</span>
<span class="nc" id="L816">        this.inline = inline;</span>
      }
<span class="nc" id="L818">    }</span>

    public Field(String name, String value, boolean inline) {
<span class="nc" id="L821">      this(name, value, inline, true);</span>
<span class="nc" id="L822">    }</span>

    /**
     * The name of the field
     *
     * @return Possibly-null String containing the name of the field.
     */
    public String getName() {
<span class="nc" id="L830">      return name;</span>
    }

    /**
     * The value of the field
     *
     * @return Possibly-null String containing the value (contents) of the field.
     */
    public String getValue() {
<span class="nc" id="L839">      return value;</span>
    }

    /**
     * If the field is in line.
     *
     * @return true if the field can be in line with other fields, false otherwise.
     */
    public boolean isInline() {
<span class="nc" id="L848">      return inline;</span>
    }

    @Override
    public boolean equals(Object obj) {
<span class="nc bnc" id="L853" title="All 2 branches missed.">      if (!(obj instanceof Field)) return false;</span>
<span class="nc" id="L854">      final Field field = (Field) obj;</span>
<span class="nc bnc" id="L855" title="All 4 branches missed.">      return field == this</span>
          || (field.inline == inline
<span class="nc bnc" id="L857" title="All 2 branches missed.">              &amp;&amp; Objects.equals(field.name, name)</span>
<span class="nc bnc" id="L858" title="All 2 branches missed.">              &amp;&amp; Objects.equals(field.value, value));</span>
    }
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.0.201801022044</span></div></body></html>